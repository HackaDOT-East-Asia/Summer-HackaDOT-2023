# Youtube link to your Demo video (5-10min length)
- https://youtu.be/FOWqobzjV8E
# Short Description of your project
## Purpose of this dApp
- Making all dApps sustainable by providing a DAO layer as a protocol
- [The purpose of this protocol is summarized in this article.](https://realtakahashi-work.medium.com/dao-oriented-protocol-aiming-to-make-all-apps-sustainable-47501a4b8d04)
## List of features
- Common interface
- Member management
- Proposal management
- Voting management
## How It Works
- Use it as a framework for all dApps that want to include DAO functionality.
- A common interface, each DAO function is implemented as an independent contract.
- Developers can use this framework to add their own logic and quickly implement dApps that include DAO functionality.
## Structure
```
              ------------------------------
              |     Application Core       |
              ------------------------------
               ↓             ↓            ↓
 ------------------ -------------------- -------------------- 
 | Member Manager | | Proposal Manager | | Election Manager |
 ------------------ -------------------- --------------------
                     ↓            ↓    
    -----------------------  -----------------------
    | Your Own Contract 1 |  | Your Own Contract 2 |
    -----------------------  -----------------------

```
# How to run your code
## How to implement using this protocol
1. Implement the traits implemented in "protocol/logics/traits/contract_base/contract_base.rs" in your contract.
2. We will implement the following two contract functions to interface with other contracts within this protocol:
```
#[ink(message)]
pub fn extarnal_get_data_interface(&self,target_function:String) -> Vec<Vec<u8>> {
    self.get_data(target_function)
}

#[ink(message)]
pub fn extarnal_execute_interface(&mut self, command:String, parameters_csv:String, caller_eoa: AccountId) -> core::result::Result<(), ContractBaseError>{
    self._execute_interface(command, parameters_csv, caller_eoa)
}
```
3. Implement "command_list" to execute functions from the common interface. Please refer to "example/flipper_oriented_dao/contracts/dao_oriented_flipper/lib.rs" for the specific implementation method.
## how to run the example "flipper_oriented_dao" locally
### contract
1. Build all the contracts below. I am using ink-4.0.0.
  - protocol/application_core
  - protocol/pre_install/default_election
  - protocol/pre_install/default_member
  - protocol/pre_install/default_proposal
  - example/flipper_oriented_dao/contracts/dao_oriented_flipper
2. Launch Astar's local collator node and deploy the contracts in the following order:
- default_election, default_member, default_proposal
- application_core(Set the contract address of each DAO deployed above to the constructor parameter of application_core.)
- flipper_oriented_dao/contracts/(Set the address of proposal_manager and the initial value of flip_value as parameters.)
3. Call each of the contract functions below for the initial setup of application_core.
- configure_pre_install_member_manager
- configure_pre_install_proposal_manager
- configure_pre_install_election
4. Create a proposal to install "flipper_oriented_dao" to "applicaiton_core".
- Create a proposal using the "execute_interface" function of "application_core". The parameters are as follows.
  - target_contract : default_proposal
  - target_function : "add_proposal"
  - parameter(example) : 2$1$Suggestion to install dao_flip_contract$1$I suggest to install dao_flip_contract which I have implemented$1$https://github.com/realtakahashi/dao_oriented_protocol$1$This is test$1$Z2URHzps1bgAw1HWthdELTBTNdKHW2PsdSuBcxEaRrY5A9a$1$install_software$1$dao_flip$2$dao_flip$2$description_dao_flip$2$YALKhr8U3SVdGeqLZ2swDmb3g6juKzHFdpKQQKBekXK5zNn
  - note: The "parameter" delimiters are hierarchical. The delimiter for the first layer is "$1$" and for the second layer is "$2$".
  - Description of parameter structure.
    - The data delimited by "$1$" in the first layer is the "Proposal Info" data. "Proposal Info" is generated by "_add_proposal_impl" in "teams/topic2-DAO_Oriented_Protocol/src/dao_oriented_protocol/protocol/pre_install/default_proposal/src/lib.rs".
    - The string part delimited by "$2$" is the "install_software" parameter of the "application_core" contract that we expect to execute in this proposal.The information in this string corresponds to "Software Info".Set the value as implemented in "_create_software_info_by_proposal_info" function in "teams/topic2-DAO_Oriented_Protocol/src/dao_oriented_protocol/protocol/application_core/src/lib.rs".
5. Create an election for this proposal. 
- Call "create_election" using the "execute_interface" of the "application_core" contract.
  - target_contract : default_election
  - target_function : "create_election"
  - parameter : "proposal_id"
  - note: Proposal information can be checked with "get_propsal_list" in "default_proposal_contract".
  - note: This function can only be executed by an election commissioner. The Electoral Authority can be checked with the "get_member_list" function of the "default_member" contract.
6. Take a vote.
- Call "vote" using the "execute_interface" of the "application_core" contract.
  - target_contract : default_election
  - target_function : "vote"
  - parameter : "proposal_id" + delimiter + "yes or no string". example: "0$1$yes"
  - note: You can check it in the constructor of "default_election", but it requires majority votes and majority upvote.
7. End the election.
- Call "end_election" using the "execute_interface" of the "application_core" contract.
  - target_contract : default_election
  - target_function : "create_election"
  - parameter : "proposal_id"
  - note: You can check the results of the election with "get_election_list" in the "default_election" contract.
  - note: This function can only be executed by an election commissioner. The Electoral Authority can be checked with the "get_member_list" function of the "default_member" contract.
8. Install "flipper_oriented_dao"
- Call "install_software" of the "application_core" contract.
  - parameter : "proposal_id"
- note: Installed software can be checked with the "get_installed_software" function of the "application_core" contract. 
### frontend
1. To set local environment variables, create ".env.local" file in frontend directory and set the following values. Set each contract address after your own deployment.
```
NEXT_PUBLIC_DAO_ORIENTED_FLIPPER_CONTRACT_ADDRESS=XMx2AL7FUhHCBfPYqHausZAU4ARXr7bAsUWNH3cpDbPJEE1
NEXT_PUBLIC_APPLICATION_CORE_CONTRACT_ADDRESS=XoHMMnqChwiU13LZZABQLNz3vTbcnY347K55HVRn2VvScKE
NEXT_PUBLIC_DEFAULT_ELECTION_CONTRACT_ADDRESS=XFQ4Tm7LDfxrNq2gRMmeotWvrEtMahsTQ6HxnYZCLSTQUre
NEXT_PUBLIC_DEFAULT_PROPOSAL_CONTRACT_ADDRESS=XpiYVNbGcXM1bB3Cke9h7uJ3RSZfisqqq4XbtdErcZJZFc6
NEXT_PUBLIC_BLOCKCHAIN_URL=ws://127.0.0.1:9944
```
2. Run "yarn install" to install the required components.
3. Run "yarn dev" and access "localhost:3000" in your browser.
## How To Test
### Protocol
- There is a test code implemented with typescript in the path below.
- By checking this code, it is possible to understand how the basics of the protocol work.
- Path:teams/topic2-DAO_Oriented_Protocol/src/dao_oriented_protocol/protocol/test
## Exapmple "DAO Oriented Flipper
- There is a test code implemented with typescript in the path below.
- By checking this code, it is possible to understand how the basics of the example dapp work.
- Path:teams/topic2-DAO_Oriented_Protocol/src/dao_oriented_protocol/example/flipper_oriented_dao/contracts/test
# Description of your team(Team Background with both LinkedIn and Github Page)
## Purpose Of Development
- I develop dApps with two purposes. The reason is as follows.
  - The first is about DAOs. I believe DAO is an effective tool for sustainable community management. To create a framework that can be easily used by any dApp that needs a DAO mechanism.
  - The second is to design a mechanism to reuse WASM contracts. I tried it again this time, but I still don't think this design is the best. I will continue this challenge.
## Member List
- Shin Takahashi
  - Role: Everything
  - Job: Software Developer, Astar Network Technical Ambassador
  - [LinkedIn](https://jp.linkedin.com/in/%E7%9C%9F-%E9%AB%98%E6%A9%8B-255404170)
  - [Github](https://github.com/realtakahashi)
  - [Twitter](https://twitter.com/realtakahashi1)
  - [Medium](https://realtakahashi-work.medium.com/)
